/**
 * Responsive Overrides - Mobile Tables & Forms
 */

/* Force table container to be scrollable */
.table-responsive {
    display: block;
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

/* DataTables wrapper adjustments */
div.dataTables_wrapper {
    width: 100%;
    overflow-x: hidden;
}

/* Ensure DataTable doesn't overflow */
table.dataTable {
    width: 100% !important;
    margin: 0 !important;
}

/* DataTables mobile fixes */
@media screen and (max-width: 768px) {
    /* Compact table cells */
    table.dataTable td,
    table.dataTable th {
        padding: 0.4rem 0.3rem !important;
        font-size: 0.85rem;
        white-space: nowrap;
    }

    /* Stack action buttons vertically */
    table.dataTable td button,
    table.dataTable td .btn {
        margin-bottom: 0.25rem;
        margin-right: 0.25rem;
        font-size: 0.75rem;
        padding: 0.25rem 0.5rem;
    }

    /* Reduce DataTables control elements */
    div.dataTables_filter input {
        width: 100% !important;
        margin-left: 0 !important;
    }

    div.dataTables_length select {
        width: auto;
    }

    /* Stack pagination */
    div.dataTables_paginate {
        text-align: center;
        margin-top: 0.5rem;
    }

    /* Compact cards */
    .card-body {
        padding: 0.75rem !important;
    }

    .card-title {
        font-size: 0.95rem;
    }

    /* Modal adjustments */
    .modal-dialog {
        margin: 0.5rem;
    }

    .modal-body {
        max-height: calc(100vh - 150px);
        overflow-y: auto;
    }

    /* Form inputs smaller spacing */
    .mb-3 {
        margin-bottom: 0.75rem !important;
    }

    /* Badge adjustments */
    .badge {
        font-size: 0.7rem;
        padding: 0.2rem 0.4rem;
    }

    /* Compact alert boxes */
    .alert {
        font-size: 0.85rem;
        padding: 0.5rem;
    }
}

/* Extra small devices (phones < 576px) */
@media screen and (max-width: 576px) {
    /* Further reduce table font */
    table.dataTable {
        font-size: 0.75rem;
    }

    /* Hide additional columns on very small screens */
    table.dataTable th:nth-child(3),
    table.dataTable td:nth-child(3) {
        display: none;
    }

    /* Stack buttons in action column */
    table.dataTable td:last-child {
        white-space: normal !important;
        min-width: 80px;
    }

    table.dataTable td:last-child button {
        display: block;
        width: 100%;
        margin-bottom: 0.2rem;
    }

    /* Make icon-only buttons more compact */
    .btn i {
        margin: 0;
    }

    /* Reduce heading sizes */
    h1, h2, h3, h4 {
        font-size: 1.1rem;
    }

    /* Tighter navbar */
    .navbar-brand {
        font-size: 1rem;
    }

    /* Smaller input groups */
    .input-group-text {
        font-size: 0.8rem;
        padding: 0.25rem 0.5rem;
    }
}

/* Landscape phone orientation */
@media screen and (max-height: 500px) and (orientation: landscape) {
    .modal-body {
        max-height: 250px;
        overflow-y: auto;
    }
}

/* Print styles - ensure tables don't break */
@media print {
    table.dataTable {
        width: 100% !important;
    }

    div.dataTables_wrapper {
        overflow: visible !important;
    }

    /* Hide controls on print */
    div.dataTables_filter,
    div.dataTables_length,
    div.dataTables_paginate,
    div.dataTables_info {
        display: none !important;
    }

    /* Hide action buttons */
    table.dataTable td:last-child button,
    table.dataTable td:last-child .btn {
        display: none !important;
    }
}
